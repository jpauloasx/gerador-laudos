<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Formul√°rio de Inc√™ndios</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    // M√°scara de CEP
    function mascaraCEP(input) {
      let v = input.value.replace(/\D/g, "");
      if (v.length > 5) v = v.slice(0,5) + "-" + v.slice(5,8);
      input.value = v;
    }

    // Confirma√ß√£o para limpar formul√°rio
    function confirmarLimpar(form) {
      if (confirm("Tem certeza que deseja limpar todos os campos?")) {
        form.reset();
      }
    }
  </script>
</head>

<body class="bg-gray-100 p-8">
  <div class="max-w-3xl mx-auto bg-white p-8 rounded-xl shadow">

    <!-- TOPO: Bot√£o Voltar -->
    <div class="flex justify-end mb-4">
      <a href="{{ url_for('home') }}" class="text-sm text-gray-600 hover:text-red-600">‚¨Ö Voltar</a>
    </div>

    <!-- LOGOS -->
    <div class="flex justify-center items-center gap-6 mb-6">
      <img src="{{ url_for('static', filename='defesa_civil.jpeg') }}" alt="Defesa Civil" class="h-20">
      <img src="{{ url_for('static', filename='pref_cba.jpeg') }}" alt="Prefeitura de Cuiab√°" class="h-20">
    </div>

    <!-- T√çTULO -->
    <h1 class="text-2xl font-bold text-red-600 mb-6 text-center">Registro de Inc√™ndio</h1>

    <!-- FORMUL√ÅRIO -->
    <form method="POST" enctype="multipart/form-data" class="space-y-4">

      {% for label, name in campos %}
  <div class="mb-3">
    <label class="form-label">{{ label }}</label>

    {% if name == "cpf" %}
      <input type="text" name="cpf" id="cpf" class="form-control" maxlength="14" required>

    {% elif name == "telefone" %}
      <input type="text" name="telefone" id="telefone" class="form-control" maxlength="15" required>

    {% elif name == "nome" %}
      <input type="text" name="nome" id="nome" class="form-control" required>

    {% elif name == "data_vistoria" %}
      <input type="text" name="data_vistoria" id="data_vistoria" class="form-control" maxlength="10" required>

    {% elif name == "data_relatorio" %}
      <input type="text" name="data_relatorio" id="data_relatorio" class="form-control" maxlength="10" required>

 {% elif name == "latitude" %}
  <div class="d-flex align-items-center gap-2 mb-2">
    <button type="button" id="btn-atualizar-localizacao" class="btn btn-sm btn-outline-primary" onclick="atualizarLocalizacao()">
      üìç Atualizar Localiza√ß√£o
    </button>
    <a id="link_mapa" class="btn btn-sm btn-outline-secondary" target="_blank" style="display:none;">
      üåç Ver no Mapa
    </a>
  </div>
  <input type="text" name="latitude" id="latitude" class="form-control mb-1" readonly>

{% elif name == "longitude" %}
  <input type="text" name="longitude" id="longitude" class="form-control" readonly>

    {% else %}
      <input type="text" name="{{ name }}" class="form-control" required>
    {% endif %}
  </div>
{% endfor %}


      <div>
        <label class="font-semibold">Data da Ocorr√™ncia</label>
        <input type="date" name="data_ocorrencia" required class="w-full border rounded px-3 py-2">
      </div>

      <div>
        <label class="font-semibold">N√∫mero da OS</label>
        <input type="text" name="n_os" required class="w-full border rounded px-3 py-2">
      </div>

      <div>
        <label class="font-semibold">Origem da Ocorr√™ncia</label>
        <input type="text" name="origem_ocorrencia" required class="w-full border rounded px-3 py-2">
      </div>

      <div>
        <label class="font-semibold">N¬∫ Ocorr√™ncia</label>
        <input type="number" name="n_ocorrencia" required class="w-full border rounded px-3 py-2">
      </div>

<div>
  <label class="font-semibold">Equipe</label>
  <select name="equipe" multiple required class="w-full border rounded px-3 py-2 h-32">
    <option value="Oz√©ias Souza De Oliveira">Ozeias</option>
    <option value="Marcos Vinicius Pereira Pessoa">Marcos Vinicius</option>
    <option value="Marcos Aur√©lio Botelho Ferreira">Marcos Aurelio</option>
    <option value="Luzinete N√©rcia Vieira da Silva">Luzinete</option>
    <option value="Everson Sebasti√£o Nascimento de Brito">Everson</option>
  </select>
  <p class="text-sm text-gray-500 mt-1">Segure CTRL (Windows) ou ‚åò (Mac) para selecionar mais de uma op√ß√£o.</p>
</div>

<div>
  <label class="font-semibold">Ve√≠culo</label>
  <select name="veiculo" multiple required class="w-full border rounded px-3 py-2 h-32">
    <option>"Ve√≠culo 01"</option>
    <option>"Ve√≠culo 02"</option>
    <option>"Ve√≠culo 03"</option>
  </select>
  <p class="text-sm text-gray-500 mt-1">Segure CTRL (Windows) ou ‚åò (Mac) para selecionar mais de uma op√ß√£o.</p>
</div>
      
      <div>
        <label class="font-semibold">Endere√ßo</label>
        <input type="text" name="endereco" required class="w-full border rounded px-3 py-2">
      </div>

      <div>
        <label class="font-semibold">Bairro</label>
        <input type="text" name="bairro" required class="w-full border rounded px-3 py-2">
      </div>

      <div>
        <label class="font-semibold">CEP</label>
        <input type="text" name="cep" maxlength="9" oninput="mascaraCEP(this)" required class="w-full border rounded px-3 py-2">
      </div>

      <div>
        <label class="font-semibold">Descri√ß√£o</label>
        <textarea name="descricao" maxlength="1000" required class="w-full border rounded px-3 py-2"></textarea>
      </div>

      <div>
        <label class="font-semibold">Data da Vistoria</label>
        <input type="date" name="data_vistoria" required class="w-full border rounded px-3 py-2">
      </div>

      <div>
        <label class="font-semibold">Nome</label>
        <input type="text" name="nome" required class="w-full border rounded px-3 py-2">
      </div>

      <div>
        <label class="font-semibold">E-mail</label>
        <input type="email" name="email" required class="w-full border rounded px-3 py-2">
      </div>

      <div>
        <label class="font-semibold">Relato</label>
        <textarea name="relato" maxlength="1000" required class="w-full border rounded px-3 py-2"></textarea>
      </div>

      <div>
        <label class="font-semibold">Recomenda√ß√µes</label>
        <textarea name="recomendacoes" maxlength="1000" required class="w-full border rounded px-3 py-2"></textarea>
      </div>

      <div>
        <label class="font-semibold">Data de emiss√£o</label>
        <input type="date" name="data_fim" required class="w-full border rounded px-3 py-2">
      </div>

      <h2 class="text-lg font-bold mt-6">Imagens</h2>
      {% for i in range(1,5) %}
      <div>
        <label class="font-semibold">Imagem {{i}}</label>
        <input type="file" name="imagem{{i}}" accept="image/*" class="w-full border rounded px-3 py-2">
        <input type="text" name="descricao{{i}}" placeholder="Descri√ß√£o da Figura {{i}}" class="w-full border rounded px-3 py-2 mt-2">
      </div>
      {% endfor %}

      <!-- BOT√ïES -->
      <div class="flex justify-center gap-4 mt-6">
        <button type="submit" class="bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700">
          Gerar Relat√≥rio
        </button>
        <button type="button" onclick="confirmarLimpar(this.form)" class="bg-gray-400 text-white px-6 py-2 rounded-lg hover:bg-gray-500">
          Limpar Tudo
        </button>
      </div>

    </form>
  </div>
</body>
</html>








